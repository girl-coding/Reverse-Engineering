(self.webpackChunkextension=self.webpackChunkextension||[]).push([[117],{"./src/js/browser/constants.js":(e,s,r)=>{"use strict";r.d(s,{ZZ:()=>g,hN:()=>a,i9:()=>m,jO:()=>i,nO:()=>t,sR:()=>o,t3:()=>n,ve:()=>l});var n="MAKE_REQUEST",t="GET_CURRENT_TAB",a="OPEN_POPUP",o="MESSAGE_ALL_TABS",i="OPEN_SCREENSHOT_TAB",g="RELOAD_TAB",m="RELOAD_ALL_TABS",l="SCRAPE_TASK"},"./src/js/browser/index.js":(e,s,r)=>{"use strict";r.r(s),r.d(s,{executeScript:()=>x,getAssetURL:()=>d,getCurrentTab:()=>L,getExtensionTabs:()=>P,getExtensionVersion:()=>u,listenExternalMessages:()=>m,listenMessages:()=>g,localStorageGet:()=>b,localStorageGetAllKeys:()=>j,localStorageRemove:()=>h,localStorageSet:()=>f,makeRequest:()=>R,onInstalled:()=>l,onTabRemoved:()=>S,onUninstall:()=>A,onUpdated:()=>c,openPopup:()=>I,openScreenshotTab:()=>N,openScreenshotUrl:()=>M,openURL:()=>E,reloadAllTabs:()=>C,reloadTab:()=>_,scrapeTask:()=>O,sendMessage:()=>o,sendMessageToAllTabs:()=>U,sendMessageToTab:()=>i,setTimeout:()=>a,syncStorageGet:()=>v,syncStorageRemove:()=>y,syncStorageSet:()=>w});var n=r("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),t=r.n(n),a=function(e){return new Promise((function(s){var r="alarm-".concat(Math.floor(1e3*Math.random()));t().alarms.create(r,{delayInMinutes:e}),t().alarms.onAlarm.addListener((function(e){r===e.name&&s()}))}))},o=function(e){return t().runtime.sendMessage(e)},i=function(e,s){var r;return null===(r=t().tabs)||void 0===r?void 0:r.sendMessage(e,s)},g=function(e){return t().runtime.onMessage.addListener(e)},m=function(e){return t().runtime.onMessageExternal.addListener(e)},l=function(e){t().runtime.onInstalled.addListener((function(s){"install"===s.reason&&e()}))},c=function(e){t().runtime.onInstalled.addListener((function(s){"update"===s.reason&&e()}))},A=function(e,s){return t().runtime.setUninstallURL(e).then(s)},u=function(){var e;return null===(e=t().runtime.getManifest())||void 0===e?void 0:e.version},d=function(e){return t().runtime.getURL(e)},x=function(e){var s;return null===(s=t().scripting)||void 0===s?void 0:s.executeScript(e)},p=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),f=function(e,s){return t().storage.local.set((0,p.Z)({},e,s))},b=function(e){return t().storage.local.get(e).then((function(s){return null==s?void 0:s[e]}))},j=function(){return t().storage.local.get(null).then((function(e){return Object.keys(e)}))},h=function(e){return t().storage.local.remove(e)},w=function(e,s){return t().storage.sync.set((0,p.Z)({},e,s))},v=function(e){return t().storage.sync.get(e).then((function(s){return null==s?void 0:s[e]}))},y=function(e){return t().storage.sync.remove(e)},k=r("./src/js/supportedDomains.mjs"),T=r("./src/js/browser/constants.js"),E=function(e){t().tabs?t().tabs.create({url:e}):window.open(e)},P=function(){return new Promise((function(e){var s;null!==(s=t().tabs)&&void 0!==s&&s.query?t().tabs.query({url:k.ZP}).then(e):e([])}))},C=function(){t().tabs?t().tabs.query({url:k.ZP}).then((function(e){e.forEach((function(e){return t().tabs.reload(e.id)}))})):o({action:T.i9})},_=function(e){t().tabs?t().tabs.reload(e):o({action:T.ZZ,payload:{id:e}})},S=function(e){return t().tabs.onRemoved.addListener(e)},L=function(){return t().tabs?t().tabs.query({active:!0,currentWindow:!0}).then((function(e){return e[0]})):t().runtime.sendMessage({action:T.nO})},M=function(){var e;return null===(e=t().tabs)||void 0===e?void 0:e.create({url:Extension.getAssetURL("screenshot.html"),active:!0})},R=function(e){return o({action:T.t3,request:e})},I=function(){return o({action:T.hN})},U=function(e){return o({action:T.sR,payload:e})},N=function(){return o({action:T.jO})},O=function(e){return o({action:T.ve,payload:e})}},"./src/js/content_scripts.js":(e,s,r)=>{"use strict";r("./src/js/wdyr.js"),r("./src/js/extension.js"),r("./src/js/ga.js");var n=r("./node_modules/react/index.js"),t=r("./src/js/jsx/store/actions.js"),a=r("./src/js/jsx/constants/injected_elements.js"),o=r("./src/js/jsx/constants/websites.js"),i=r("./src/js/jsx/constants/index.js"),g=r("./src/js/jsx/store/index.js"),m=r("./src/js/jsx/utils/pages.js"),l=r("./src/js/jsx/ecommerces/url.js"),c=r("./src/js/jsx/components/popup/Popup.jsx"),A=r("./src/js/jsx/components/embed/Embedder.jsx"),u=r("./src/js/jsx/components/popup/PopupButton.jsx"),d=r("./src/js/jsx/components/dropdown/DropdownInjected.jsx"),x=r("./src/js/jsx/render.jsx"),p=function(){var e="".concat(Extension.getAssetURL("fonts"),"/WorkSans-VariableFont_wght.ttf");new FontFace("Work Sans","url(".concat(e,")"),{weight:"100 1000",stretch:"25% 151%"}).load().then((function(e){document.fonts.add(e)}))},f=function(e,s){var r=document.createElement("div");r.id=e,r.className=e,s&&(r.style.display=s),document.body.append(r)},b=function(e){window._gaq=window._gaq||[];window._gaq.push(["_setAccount","UA-52913301-9"]),window._gaq.push(["_trackPageview",e])},j=setInterval((function(){return h()}),500),h=function(){Extension.getCurrentTab().then((function(e){e.active&&(clearInterval(j),function(e){var s=e.id,r=e.url,j=(0,l.xW)(r),h=j.ecommerceType,w=j.marketplace,v=j.pageType,y=(0,g.v)(s,"content_script"),k=y.store,T=y.persistor;k.dispatch((0,t.$9)({id:s,url:r,pageType:v,marketplace:w,ecommerceType:h})),b(v),p(),v&&((0,m.l)(r)&&(f(a.Uq,"none"),(0,x.i)({store:k,persistor:T,children:n.createElement(c.G,null),elementId:a.Uq}),f(a.O1),(0,x.i)({store:k,persistor:T,children:n.createElement(u.c,null),elementId:a.O1}),f(a.z),(0,x.i)({store:k,persistor:T,children:n.createElement(d.L,null),elementId:a.z}),r.includes(o.ef)&&Extension.openPopup()),f(a.bc),(0,x.i)({store:k,persistor:T,children:n.createElement(A.C,null),elementId:a.bc}));var E=!1,P=r;setInterval((function(){E||window.location.href===P||(E=!0,P=window.location.href,h===i.p.Walmart?Extension.reloadTab(s):(k.dispatch((0,t.$9)({url:P})),E=!1))}),[200])}(e))}))};h()},"./src/js/dropdown.jsx":(e,s,r)=>{"use strict";var n=r("./node_modules/react/index.js"),t=r("./src/js/jsx/store/actions.js"),a=r("./src/js/jsx/store/index.js"),o=r("./src/js/jsx/ecommerces/url.js"),i=r("./src/js/jsx/utils/pages.js"),g=r("./src/js/jsx/components/dropdown/Dropdown.jsx"),m=r("./src/js/jsx/render.jsx"),l=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),c=r("./node_modules/@babel/runtime/regenerator/index.js"),A=r.n(c),u=r("./src/js/jsx/constants/injected_elements.js"),d=r("./src/js/extension.js"),x=function(){var e=(0,l.Z)(A().mark((function e(s,r){var n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=null==s?void 0:s.tab,e.t0){e.next=5;break}return e.next=4,d.Z.getCurrentTab();case 4:e.t0=e.sent;case 5:(n=e.t0)&&d.Z.executeScript({target:{tabId:n.id},func:function(e,s){var r=document.getElementById(s);r&&r.style.display!==e&&(r.style.display=e,"none"!==e&&window._gaq&&window._gaq.push(["_trackPageview","Popup"]))},args:[r,u.Uq]});case 7:case"end":return e.stop()}}),e)})));return function(s,r){return e.apply(this,arguments)}}();Extension.getCurrentTab().then((function(e){var s=e.id,r=e.url,l=(0,o.xW)(r),c=l.ecommerceType,A=l.marketplace,u=l.pageType;if((0,i.l)(r)&&u)x({tab:e},"block"),window.close();else{var d=(0,a.v)(s,"dropdown"),p=d.store,f=d.persistor;p.dispatch((0,t.$9)({id:s,url:r,pageType:u,marketplace:A,ecommerceType:c})),(0,m.i)({store:p,persistor:f,children:n.createElement(g.L,null),elementId:"jsMainDropdown"})}}))},"./src/js/extension.js":(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});var n=r("./src/js/browser/index.js");r.g.Extension=n;const t=987==r.j?n:null},"./node_modules/void-elements/index.js":e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},"./node_modules/warning/warning.js":e=>{"use strict";var s=function(){};e.exports=s},"./node_modules/webextension-polyfill/dist/browser-polyfill.js":function(e,s){var r,n,t;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[e],r=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const s="The message port closed before a response was received.",r=e=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class n extends WeakMap{constructor(e,s){super(s),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const t=e=>e&&"object"==typeof e&&"function"==typeof e.then,a=(s,r)=>(...n)=>{e.runtime.lastError?s.reject(new Error(e.runtime.lastError.message)):r.singleCallbackArg||n.length<=1&&!1!==r.singleCallbackArg?s.resolve(n[0]):s.resolve(n)},o=e=>1==e?"argument":"arguments",i=(e,s)=>function(r,...n){if(n.length<s.minArgs)throw new Error(`Expected at least ${s.minArgs} ${o(s.minArgs)} for ${e}(), got ${n.length}`);if(n.length>s.maxArgs)throw new Error(`Expected at most ${s.maxArgs} ${o(s.maxArgs)} for ${e}(), got ${n.length}`);return new Promise(((t,o)=>{if(s.fallbackToNoCallback)try{r[e](...n,a({resolve:t,reject:o},s))}catch(a){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,a),r[e](...n),s.fallbackToNoCallback=!1,s.noCallback=!0,t()}else s.noCallback?(r[e](...n),t()):r[e](...n,a({resolve:t,reject:o},s))}))},g=(e,s,r)=>new Proxy(s,{apply:(s,n,t)=>r.call(n,e,...t)});let m=Function.call.bind(Object.prototype.hasOwnProperty);const l=(e,s={},r={})=>{let n=Object.create(null),t={has:(s,r)=>r in e||r in n,get(t,a,o){if(a in n)return n[a];if(!(a in e))return;let c=e[a];if("function"==typeof c)if("function"==typeof s[a])c=g(e,e[a],s[a]);else if(m(r,a)){let s=i(a,r[a]);c=g(e,e[a],s)}else c=c.bind(e);else if("object"==typeof c&&null!==c&&(m(s,a)||m(r,a)))c=l(c,s[a],r[a]);else{if(!m(r,"*"))return Object.defineProperty(n,a,{configurable:!0,enumerable:!0,get:()=>e[a],set(s){e[a]=s}}),c;c=l(c,s[a],r["*"])}return n[a]=c,c},set:(s,r,t,a)=>(r in n?n[r]=t:e[r]=t,!0),defineProperty:(e,s,r)=>Reflect.defineProperty(n,s,r),deleteProperty:(e,s)=>Reflect.deleteProperty(n,s)},a=Object.create(e);return new Proxy(a,t)},c=e=>({addListener(s,r,...n){s.addListener(e.get(r),...n)},hasListener:(s,r)=>s.hasListener(e.get(r)),removeListener(s,r){s.removeListener(e.get(r))}}),A=new n((e=>"function"!=typeof e?e:function(s){const r=l(s,{},{getContent:{minArgs:0,maxArgs:0}});e(r)})),u=new n((e=>"function"!=typeof e?e:function(s,r,n){let a,o,i=!1,g=new Promise((e=>{a=function(s){i=!0,e(s)}}));try{o=e(s,r,a)}catch(e){o=Promise.reject(e)}const m=!0!==o&&t(o);if(!0!==o&&!m&&!i)return!1;const l=e=>{e.then((e=>{n(e)}),(e=>{let s;s=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:s})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return l(m?o:g),!0})),d=({reject:r,resolve:n},t)=>{e.runtime.lastError?e.runtime.lastError.message===s?n():r(new Error(e.runtime.lastError.message)):t&&t.__mozWebExtensionPolyfillReject__?r(new Error(t.message)):n(t)},x=(e,s,r,...n)=>{if(n.length<s.minArgs)throw new Error(`Expected at least ${s.minArgs} ${o(s.minArgs)} for ${e}(), got ${n.length}`);if(n.length>s.maxArgs)throw new Error(`Expected at most ${s.maxArgs} ${o(s.maxArgs)} for ${e}(), got ${n.length}`);return new Promise(((e,s)=>{const t=d.bind(null,{resolve:e,reject:s});n.push(t),r.sendMessage(...n)}))},p={devtools:{network:{onRequestFinished:c(A)}},runtime:{onMessage:c(u),onMessageExternal:c(u),sendMessage:x.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:x.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},f={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{"*":f},services:{"*":f},websites:{"*":f}},l(e,p,r)};e.exports=r(chrome)}else e.exports=globalThis.browser},void 0===(t="function"==typeof r?r.apply(s,n):r)||(e.exports=t)}}]);